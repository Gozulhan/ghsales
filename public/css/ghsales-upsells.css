/**
 * GHSales Minicart Upsells Styling
 *
 * Styles for the upsell product carousel in the minicart
 * Uses Swiper carousel with gulcan-plugins product cards
 *
 * @package GHSales
 * @since 1.0.0
 */

/* ========================================
   MINICART DRAWER TITLE STYLING
   All h1-h6 in minicart drawer
   Ultra-specific selectors to override Elementor theme
   ======================================== */

body.elementor-kit-64 div.ghminicart-drawer h1,
body.elementor-kit-64 div.ghminicart-drawer h2,
body.elementor-kit-64 div.ghminicart-drawer h3,
body.elementor-kit-64 div.ghminicart-drawer h4,
body.elementor-kit-64 div.ghminicart-drawer h5,
body.elementor-kit-64 div.ghminicart-drawer h6,
body div.ghminicart-drawer h1,
body div.ghminicart-drawer h2,
body div.ghminicart-drawer h3,
body div.ghminicart-drawer h4,
body div.ghminicart-drawer h5,
body div.ghminicart-drawer h6,
.elementor div.ghminicart-drawer h1,
.elementor div.ghminicart-drawer h2,
.elementor div.ghminicart-drawer h3,
.elementor div.ghminicart-drawer h4,
.elementor div.ghminicart-drawer h5,
.elementor div.ghminicart-drawer h6 {
	line-height: 1 !important;
	font-family: 'DM Sans', sans-serif !important;
	font-size: 16px !important;
	font-weight: bolder !important;
	margin: 8px 0px !important;
	letter-spacing: 0 !important;
}

/* ========================================
   SPECIAL SALES SECTION (Top section)
   ======================================== */

.ghsales-special-sales-section {
	background: #fff;
	padding: 1rem 1.25rem;
	margin: 0 0 1.5rem 0; /* Remove horizontal margin - parent handles it */
}

/* Special sales title - override Elementor */
body.elementor-kit-64 .ghsales-special-sales-section h3.ghsales-special-sales-title,
body .ghsales-special-sales-section h3.ghsales-special-sales-title,
.elementor .ghsales-special-sales-section h3.ghsales-special-sales-title,
.ghsales-special-sales-title {
	font-size: 16px !important;
	font-weight: 700 !important;
	margin: 0 0 0.75rem 0 !important;
	color: #0F1A2B !important;
	font-family: 'DM Sans', sans-serif !important;
	line-height: 1 !important;
	letter-spacing: 0 !important;
}

.ghsales-special-sales-list {
	display: flex;
	flex-direction: column;
	gap: 0.75rem;
}

/* Sale event title in italic (shown after main h3) */
.ghsales-special-sale-event-title {
	font-size: 14px;
	font-weight: 400;
	font-style: italic;
	margin: 0 0 0.5rem 0;
	color: #666;
}

/* Hide event titles when multiple sales exist */
.ghsales-special-sales-section.multiple-sales .ghsales-special-sale-event-title {
	display: none;
}

/* Product carousel in special sales */
.ghsales-special-sale-products {
	margin-top: 0.5rem;
}

/* Sale section container - NO padding, children handle it */
.ghminicart-sale-section {
	padding: 0;
}

/* Empty cart sale wrapper */
.ghminicart-empty-sale-wrapper .ghminicart-sale-section {
	padding: 0;
	margin-top: 2rem;
}

/* ========================================
   SPECIAL SALES SECTION - add padding here
   ======================================== */

.ghsales-special-sales-section {
	padding: 1rem 1.25rem;
	margin: 0 0 1.5rem 0; /* Bottom margin only */
}

/* ========================================
   UPSELLS SECTION (Below special sales)
   ======================================== */

.ghsales-cart-upsells-section {
	padding: 0 1.5rem; /* Add padding here instead of parent */
	margin-bottom: 1.5rem;
}

/* Title styling - 16px, bolder, Dutch catchy text */
body.elementor-kit-64 .ghsales-cart-upsells-section h3.ghsales-upsells-title,
body .ghsales-cart-upsells-section h3.ghsales-upsells-title,
.elementor .ghsales-cart-upsells-section h3.ghsales-upsells-title,
.ghsales-upsells-title {
	font-size: 16px !important;
	font-weight: 700 !important;
	margin: 0 0 1.25rem 0 !important; /* 1.25rem spacing below title */
	color: #0F1A2B !important;
	font-family: 'DM Sans', sans-serif !important;
	line-height: 1 !important;
	letter-spacing: 0 !important;
}

/* Upsells carousel container */
.ghsales-cart-upsells {
	position: relative;
}

/* Swiper progress bar styling (same as homepage) */
.ghsales-cart-upsells .swiper-pagination-progressbar {
	background: rgba(0, 0, 0, 0.1);
	height: 3px;
	border-radius: 999px;
	margin-top: 1rem;
}

.ghsales-cart-upsells .swiper-pagination-progressbar-fill {
	background: #238d4a; /* Green progress color */
	border-radius: 999px;
}

/* ========================================
   MOBILE RESPONSIVE
   ======================================== */

@media (max-width: 768px) {
	/* Mobile padding for sale section container - NO padding, children handle it */
	.ghminicart-sale-section {
		padding: 0;
	}

	.ghminicart-empty-sale-wrapper .ghminicart-sale-section {
		padding: 0;
	}

	/* Special sales section - mobile margin and padding */
	.ghsales-special-sales-section {
		margin: 0 0 1rem 0; /* Bottom margin only */
		padding: 0.875rem 1rem;
	}

	/* Upsells section - mobile padding */
	.ghsales-cart-upsells-section {
		padding: 0 0.875rem; /* Mobile horizontal padding */
		margin-bottom: 1rem;
	}

	.ghsales-upsells-title {
		margin-bottom: 1rem !important;
	}
}

/* ========================================
   PRODUCT CARD OVERRIDES FOR MINICART
   Ensure product cards work perfectly in minicart
   ======================================== */

/* Make sure product cards don't overflow */
.ghsales-cart-upsells .gulcan-product-card {
	width: 100%;
	max-width: 100%;
}

/* Ensure images maintain aspect ratio */
.ghsales-cart-upsells .gulcan-product-image {
	width: 100%;
	height: auto;
	aspect-ratio: 1 / 1;
	object-fit: cover;
}

/* ========================================
   QUICK ADD TO CART BUTTON STYLING
   ======================================== */

/* Base button styling - same as gulcan-plugins */
.ghsales-upsell-add-to-cart {
	position: absolute;
	bottom: 8px;
	right: 8px;
	width: 40px;
	height: 40px;
	background: #4A3F35;
	border-radius: 50%;
	display: flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	transition: all 0.3s ease;
	z-index: 2;
	border: none;
	padding: 0;
	/* iOS Safari fix - force GPU acceleration */
	transform: translateZ(0);
	-webkit-transform: translateZ(0);
	will-change: transform;
	-webkit-backface-visibility: hidden;
	backface-visibility: hidden;
}

.ghsales-upsell-add-to-cart:hover {
	background: #0a2329;
	transform: scale(1.1) translateZ(0);
	-webkit-transform: scale(1.1) translateZ(0);
}

.ghsales-upsell-add-to-cart:disabled {
	opacity: 0.5;
	cursor: not-allowed;
}

.ghsales-upsell-add-to-cart.loading {
	animation: pulse 1s infinite;
}

.ghsales-upsell-add-to-cart.success {
	background: #4A3F35;
	animation: none;
	transform: scale(1);
}

.ghsales-upsell-add-to-cart.error {
	background: #e74c3c;
}

.ghsales-upsell-add-to-cart svg {
	width: 22px;
	height: 22px;
	fill: white;
}

@keyframes pulse {
	0% { opacity: 1; }
	50% { opacity: 0.6; }
	100% { opacity: 1; }
}

/* Quick add to cart button visibility in minicart carousel */
.ghsales-cart-upsells .ghsales-upsell-add-to-cart {
	opacity: 0;
	transition: opacity 0.2s ease;
}

.ghsales-cart-upsells .gulcan-product-image-container:hover .ghsales-upsell-add-to-cart {
	opacity: 1;
}

/* Mobile: Always show add to cart button */
@media (max-width: 768px) {
	.ghsales-cart-upsells .ghsales-upsell-add-to-cart {
		opacity: 1;
	}

	.ghsales-upsell-add-to-cart {
		width: 36px;
		height: 36px;
	}
}
